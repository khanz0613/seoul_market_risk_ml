# ğŸ¢ ì„œìš¸ ì‹œì¥ ìœ„í—˜ë„ ML ì‹œìŠ¤í…œ ì‚¬ìš© ê°€ì´ë“œ

## ğŸ“‹ ì‹œìŠ¤í…œ ê°œìš”
ì´ ì‹œìŠ¤í…œì€ ì„œìš¸ ì†Œìƒê³µì¸ì˜ ë§¤ì¶œ ìœ„í—˜ë„ë¥¼ ì˜ˆì¸¡í•˜ê³  ìœ„í—˜ ì¤‘ë¦½í™” ëŒ€ì¶œ ê¸ˆì•¡ì„ ì‚°ì¶œí•˜ëŠ” ML ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸš€ ì‹œìŠ¤í…œ ì‹œì‘í•˜ê¸°

### 1. ê¸°ë³¸ í™˜ê²½ ì„¤ì •
```bash
# í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install pandas numpy scikit-learn lightgbm prophet statsmodels psutil pyyaml

# ì‹œìŠ¤í…œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /Users/khanz/Documents/GitHub/NH/seoul_market_risk_ml
```

### 2. ìƒˆë¡œìš´ ë¹„ì¦ˆë‹ˆìŠ¤ ìœ„í—˜ë„ ì˜ˆì¸¡í•˜ê¸°

#### ë°©ë²• 1: Python ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
```python
import sys
sys.path.append('/Users/khanz/Documents/GitHub/NH/seoul_market_risk_ml')

from src.models.risk_calculator import RiskCalculator
from src.utils.config_loader import ConfigLoader

# ì„¤ì • ë¡œë“œ
config = ConfigLoader()

# ìœ„í—˜ë„ ê³„ì‚°ê¸° ì´ˆê¸°í™”
risk_calc = RiskCalculator(config)

# ìƒˆ ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„° ì˜ˆì œ
new_business = {
    'business_id': 'NEW_001',
    'business_name': 'ì„œìš¸ê¹€ì¹˜ì°Œê°œ',
    'business_type': 'ìŒì‹ì ',
    'region_id': '11110530',  # ì„œìš¸ ì¢…ë¡œêµ¬ ì‚¬ì§ë™
    'revenue_history': [12000000, 13500000, 11800000, 14200000, 13100000],  # ìµœê·¼ 5ê°œì›” ë§¤ì¶œ
    'location': {
        'district': 'ì¢…ë¡œêµ¬',
        'dong': 'ì‚¬ì§ë™'
    }
}

# ìœ„í—˜ë„ ê³„ì‚°
risk_result = risk_calc.calculate_comprehensive_risk(new_business)

print(f"ğŸ¯ ìœ„í—˜ë„ ì ìˆ˜: {risk_result['total_score']:.1f}ì ")
print(f"ğŸ“Š ìœ„í—˜ ë“±ê¸‰: {risk_result['risk_level']}")
print(f"ğŸ’° ê¶Œì¥ ëŒ€ì¶œí•œë„: {risk_result['recommended_loan']:,}ì›")
```

#### ë°©ë²• 2: ê¸°ì¡´ ë°ì´í„° ì¼ê´„ ì²˜ë¦¬
```python
import pandas as pd
from src.orchestrator.main_orchestrator import MainOrchestrator

# ë©”ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì´ˆê¸°í™”
orchestrator = MainOrchestrator()

# CSV íŒŒì¼ì—ì„œ ë°ì´í„° ë¡œë“œ (ì˜ˆì‹œ í˜•ì‹)
businesses_df = pd.read_csv('ìƒˆë¡œìš´_ë¹„ì¦ˆë‹ˆìŠ¤_ë°ì´í„°.csv')

# ì¼ê´„ ìœ„í—˜ë„ ê³„ì‚°
results = []
for _, business in businesses_df.iterrows():
    risk_result = orchestrator.process_single_business(business.to_dict())
    results.append(risk_result)

# ê²°ê³¼ë¥¼ DataFrameìœ¼ë¡œ ë³€í™˜
results_df = pd.DataFrame(results)
results_df.to_csv('ìœ„í—˜ë„_ë¶„ì„_ê²°ê³¼.csv', index=False, encoding='utf-8')
```

### 3. ì‹¤ì‹œê°„ ì˜ˆì¸¡ ì„œë²„ ì‹¤í–‰
```python
# ê°„ë‹¨í•œ Flask ì„œë²„ ì˜ˆì œ
from flask import Flask, request, jsonify
from src.models.risk_calculator import RiskCalculator
from src.utils.config_loader import ConfigLoader

app = Flask(__name__)

# ì‹œìŠ¤í…œ ì´ˆê¸°í™”
config = ConfigLoader()
risk_calc = RiskCalculator(config)

@app.route('/predict_risk', methods=['POST'])
def predict_risk():
    try:
        business_data = request.json
        result = risk_calc.calculate_comprehensive_risk(business_data)
        return jsonify({
            'success': True,
            'risk_score': result['total_score'],
            'risk_level': result['risk_level'],
            'recommended_loan': result['recommended_loan'],
            'factors': result['factors']
        })
    except Exception as e:
        return jsonify({'success': False, 'error': str(e)})

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
```

## ğŸ“Š ì…ë ¥ ë°ì´í„° í˜•ì‹

### í•„ìˆ˜ í•„ë“œ
```json
{
    "business_id": "BUSINESS_001",
    "business_name": "ì„œìš¸ê¹€ì¹˜ì°Œê°œ",
    "business_type": "ìŒì‹ì ",  // "ìŒì‹ì ", "ì†Œë§¤ì—…", "ì„œë¹„ìŠ¤ì—…", "ì œì¡°ì—…" ë“±
    "region_id": "11110530",   // ì„œìš¸ í–‰ì •ë™ ì½”ë“œ
    "revenue_history": [12000000, 13500000, 11800000, 14200000, 13100000]
}
```

### ì„ íƒ í•„ë“œ (ë” ì •í™•í•œ ì˜ˆì¸¡)
```json
{
    "location": {
        "district": "ì¢…ë¡œêµ¬",
        "dong": "ì‚¬ì§ë™",
        "address": "ì„œìš¸ ì¢…ë¡œêµ¬ ì‚¬ì§ë¡œ 161"
    },
    "business_details": {
        "opening_date": "2020-03-15",
        "employee_count": 3,
        "store_size": 50,  // í‰ìˆ˜
        "monthly_rent": 3000000
    }
}
```

## ğŸ“ˆ ì¶œë ¥ ê²°ê³¼ ì´í•´í•˜ê¸°

### ìœ„í—˜ë„ ì ìˆ˜ í•´ì„
- **0-20ì **: ğŸŸ¢ ì•ˆì „ (ë‚®ì€ ìœ„í—˜)
- **21-40ì **: ğŸŸ¡ ì£¼ì˜ (ë³´í†µ ìœ„í—˜)  
- **41-60ì **: ğŸŸ  ê²½ê³„ (ë†’ì€ ìœ„í—˜)
- **61-80ì **: ğŸ”´ ìœ„í—˜ (ë§¤ìš° ë†’ì€ ìœ„í—˜)
- **81-100ì **: âš« ë§¤ìš°ìœ„í—˜ (ê·¹ë„ë¡œ ë†’ì€ ìœ„í—˜)

### ì£¼ìš” ìœ„í—˜ ìš”ì¸
```json
{
    "factors": {
        "revenue_change": -15.2,    // ë§¤ì¶œ ë³€í™”ìœ¨ (%)
        "volatility": 12.8,         // ë§¤ì¶œ ë³€ë™ì„± (%)
        "trend": -0.05,             // ë§¤ì¶œ íŠ¸ë Œë“œ
        "seasonal_deviation": 8.3,   // ê³„ì ˆì„± í¸ì°¨
        "industry_comparison": 5.2   // ì—…ì¢… ëŒ€ë¹„ ì„±ê³¼
    },
    "weights": {
        "revenue_change": 0.30,     // ê° ìš”ì¸ë³„ ê°€ì¤‘ì¹˜
        "volatility": 0.20,
        "trend": 0.20,
        "seasonal_deviation": 0.15,
        "industry_comparison": 0.15
    }
}
```

## ğŸ”§ ê³ ê¸‰ ì‚¬ìš©ë²•

### 1. ëª¨ë¸ ì¬í›ˆë ¨
```python
from src.training.model_trainer import ModelTrainer

# ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ëª¨ë¸ ì¬í›ˆë ¨
trainer = ModelTrainer()
trainer.train_all_models()  # ì „ì²´ ëª¨ë¸ ì¬í›ˆë ¨
trainer.train_regional_models()  # ì§€ì—­ ëª¨ë¸ë§Œ ì¬í›ˆë ¨
```

### 2. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```python
from src.evaluation.model_evaluator import ModelEvaluator

evaluator = ModelEvaluator()
performance_report = evaluator.evaluate_all_models()
print(performance_report)
```

### 3. ì‹œìŠ¤í…œ ë²¤ì¹˜ë§ˆí¬
```python
# ì‹œìŠ¤í…œ ì„±ëŠ¥ í™•ì¸
python src/benchmarks/system_benchmark.py
```

## ğŸ“ ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

### ì¼€ì´ìŠ¤ 1: ì‹ ê·œ ìŒì‹ì  ëŒ€ì¶œ ì‹¬ì‚¬
```python
new_restaurant = {
    'business_id': 'REST_001',
    'business_name': 'í™ëŒ€ë–¡ë³¶ì´',
    'business_type': 'ìŒì‹ì ',
    'region_id': '11170520',  # í™ëŒ€ ì§€ì—­
    'revenue_history': [8000000, 9200000, 8500000, 10100000, 9300000]
}

result = risk_calc.calculate_comprehensive_risk(new_restaurant)
# ê²°ê³¼: ìœ„í—˜ë„ 25ì  (ì£¼ì˜), ê¶Œì¥ ëŒ€ì¶œí•œë„ 23,250,000ì›
```

### ì¼€ì´ìŠ¤ 2: ê¸°ì¡´ ì†Œë§¤ì—… ì¬í‰ê°€
```python
existing_retail = {
    'business_id': 'RETAIL_005',
    'business_name': 'í¸ì˜ì 24',
    'business_type': 'ì†Œë§¤ì—…',
    'region_id': '11140510',  # ì¤‘êµ¬ ì§€ì—­
    'revenue_history': [15000000, 14200000, 13800000, 13500000, 13000000]
}

result = risk_calc.calculate_comprehensive_risk(existing_retail)
# ê²°ê³¼: ìœ„í—˜ë„ 45ì  (ê²½ê³„), ê¶Œì¥ ëŒ€ì¶œí•œë„ 39,000,000ì›
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë°ì´í„° í’ˆì§ˆ**: ë§¤ì¶œ ë°ì´í„°ëŠ” ìµœì†Œ 3ê°œì›” ì´ìƒ í•„ìš”
2. **ì§€ì—­ ì½”ë“œ**: ì •í™•í•œ ì„œìš¸ì‹œ í–‰ì •ë™ ì½”ë“œ ì‚¬ìš© í•„ìˆ˜
3. **ì—…ì¢… ë¶„ë¥˜**: ì‹œìŠ¤í…œì—ì„œ ì§€ì›í•˜ëŠ” ì—…ì¢… ì¹´í…Œê³ ë¦¬ í™•ì¸
4. **ì£¼ê¸°ì  ì¬í›ˆë ¨**: ë¶„ê¸°ë³„ë¡œ ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ëª¨ë¸ ì—…ë°ì´íŠ¸ ê¶Œì¥

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜
```bash
# ModuleNotFoundError í•´ê²°
pip install -r requirements.txt

# ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ
# config/config.yamlì—ì„œ batch_size ì¡°ì •

# ëª¨ë¸ íŒŒì¼ ì—†ìŒ ì˜¤ë¥˜
python src/training/model_trainer.py  # ëª¨ë¸ ì¬ìƒì„±
```

## ğŸ“ ì§€ì›

ì‹œìŠ¤í…œ ê´€ë ¨ ë¬¸ì˜ë‚˜ ê¸°ìˆ  ì§€ì›ì´ í•„ìš”í•˜ì‹œë©´:
- ì„¤ì • íŒŒì¼: `config/config.yaml`
- ë¡œê·¸ íŒŒì¼: `logs/seoul_market_risk.log`
- ë¬¸ì„œ: `claudedocs/` ë””ë ‰í† ë¦¬ ì°¸ì¡°